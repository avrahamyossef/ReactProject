(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{11:function(e,t,c){e.exports={back_drop:"modal_back_drop__3Sej0",modal:"modal_modal__21EtB",close:"modal_close__nVJDM",modal_header:"modal_modal_header__3dlyC",modal_body:"modal_modal_body__2AHSl",select:"modal_select__1Ro_1",modal_content:"modal_modal_content__2ufG8",animatetop:"modal_animatetop__3r2jt"}},15:function(e,t,c){e.exports={container:"search_container__1fzgS",input_wrap:"search_input_wrap__2exPo",search_input:"search_search_input__dX4CI",icon:"search_icon__36ab8",all_books:"search_all_books__2tiDB"}},16:function(e,t,c){e.exports={book_item:"bookItem_book_item__2aO1d",add_collection_btn:"bookItem_add_collection_btn__SOMfx",icon:"bookItem_icon__TjYU6",book_title:"bookItem_book_title__1OaCQ",book_year:"bookItem_book_year__1jBvG"}},25:function(e,t,c){e.exports={header:"header_header__3fn4i",logo:"header_logo__14tHM"}},29:function(e,t,c){e.exports={full_screen_wrap:"fullPageLoader_full_screen_wrap__35U-2",img:"fullPageLoader_img__3DyTS"}},35:function(e,t,c){e.exports={container:"resultsNotFound_container__2MKix"}},40:function(e,t,c){},5:function(e,t,c){e.exports={container:"collection_container__2J52O",input_warp:"collection_input_warp__1LtAk",input:"collection_input__Cuok6",btn:"collection_btn__3b98R",collection_list:"collection_collection_list__3aA93",collection_item:"collection_collection_item__7eR2G",name_icon_warp:"collection_name_icon_warp__22ki3",icon:"collection_icon__22QyH",books_container:"collection_books_container__2mhU9",book_item:"collection_book_item__3xjkM",img:"collection_img__19QOS",trash_icon:"collection_trash_icon__3GJsS"}},50:function(e,t,c){"use strict";c.r(t);var o=c(1),n=c.n(o),a=c(32),i=c.n(a),l=c(12),s=(c(40),c(3)),r=c(25),d=c.n(r),_=c(0),j=function(){return Object(_.jsxs)("header",{className:d.a.header,children:[Object(_.jsx)("div",{className:d.a.logo,children:"Books Store"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)(l.b,{to:"/",children:" Search "})}),Object(_.jsx)("li",{children:Object(_.jsx)(l.b,{to:"/collection",children:" Collection"})})]})]})},u=c(28),b=c.n(u),h=c(34),m=c(8),O=c(15),f=c.p+"static/media/loader.1157e83b.gif",x=c(29),k=function(){return Object(_.jsx)(o.Fragment,{children:Object(_.jsx)("div",{"data-hook":"loader",className:x.full_screen_wrap,children:Object(_.jsx)("img",{"data-hook":"loader-spinner",src:f,className:x.img,alt:"Loading..."})})})},p=function(e){return"https://openlibrary.org/search.json?q=".concat(e)},v=function(e){return e?"https://covers.openlibrary.org/b/olid/".concat(e,"-M.jpg"):"https://i.ebayimg.com/images/g/UMEAAOSwYR9f~xgb/s-l500.jpg"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(p(e)).then((function(e){return e.json()}))},N=c(35),y=function(){return Object(_.jsx)("div",{className:N.container,children:Object(_.jsx)("h1",{children:"Sorry, Books Not Found :("})})},S=c(16),C=c(22),w=c(13),I=c(10),M=c(18),A=c(11),B=function(e,t){localStorage.setItem(e,JSON.stringify(t))},F=function(e){return JSON.parse(localStorage.getItem(e))||[]},D=function(e){var t=F("collection_list").filter((function(t){return t.id===e}));return t&&t.length>0?t[0]:[]},E=function(e){var t=e.closeModal,c=e.book,n=e.dataHook,a=Object(o.useState)([]),i=Object(m.a)(a,2),l=i[0],s=i[1];Object(o.useEffect)((function(){var e=F("collection_list");e&&s(e)}),[]);var r=function(e,t){return e.books.push(t),e};return Object(_.jsx)("div",{className:A.modal,children:Object(_.jsxs)("div",{className:A.modal_content,children:[Object(_.jsxs)("div",{className:A.modal_header,children:[Object(_.jsx)("span",{className:A.close,onClick:t,children:"\xd7"}),Object(_.jsx)("h2",{children:"Add Book To Collection"})]}),Object(_.jsx)("div",{className:A.modal_body,children:l.length>0?Object(_.jsxs)("select",{className:A.select,"data-hook":"select-".concat(n),onChange:function(e){!function(e,c){var o,n,a=e.target.value?parseInt(e.target.value):null,i=D(a);if(a)if(o=i,n=c.key,o.books.some((function(e){return e.key===n})))t(),alert("Book Already In Collection: ".concat(i.name));else{var l=r(i,c),d=[Object(M.a)({},l)];s(d),B("collection_list",d),t(),alert("Book Added Successfully")}else t(),console.log("Doesn't Found Collection")}(e,c)},children:[Object(_.jsx)("option",{children:"Select..."}),l.map((function(e,t){return Object(_.jsx)("option",{value:e.id,"data-hook":"option-".concat(t,"-").concat(n),children:e.name},t)}))]}):Object(_.jsx)("p",{children:"Please First Create Collection "})})]})})},H=function(e){var t=e.closeModal;return Object(_.jsx)("div",{className:A.back_drop,onClick:t})},J=function(e){var t=e.book,c=e.dataHook,n=Object(o.useState)(!1),a=Object(m.a)(n,2),i=a[0],l=a[1],s=Object(o.useState)(!1),r=Object(m.a)(s,2),d=r[0],j=r[1],u=function(){j(!1)};return Object(_.jsxs)(o.Fragment,{children:[Object(_.jsxs)("div",{className:S.book_item,onMouseEnter:function(e){l(!0)},onMouseLeave:function(e){l(!1)},children:[i&&Object(_.jsx)("div",{className:S.add_collection_btn,children:Object(_.jsx)(w.a,{className:S.icon,"data-hook":"imageIcon-".concat(c),icon:I.a,onClick:function(e){j(!0)}})}),Object(_.jsx)(C.a,{src:v(t.cover_edition_key),alt:t.title,className:S.img,animation:"zoomIn",animationDuration:"1s"}),Object(_.jsx)("p",{className:S.book_title,children:t.title})]}),d&&Object(_.jsxs)(o.Fragment,{children:[Object(_.jsx)(E,{closeModal:u,book:t,dataHook:c}),Object(_.jsx)(H,{closeModal:u})]})]})},R=function(e){var t=e.list,c=void 0===t?[]:t;return Object(_.jsx)(o.Fragment,{children:c.length>0?c.map((function(e,t){return Object(_.jsx)(J,{book:e,dataHook:"book-".concat(t)},e.key)})):null})},L=function(){var e,t=Object(o.useState)(!0),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(o.useState)([]),l=Object(m.a)(i,2),s=l[0],r=l[1],d=Object(o.useState)(!1),j=Object(m.a)(d,2),u=j[0],f=j[1],x=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=F("books_list"),t=F("search_input");e&&(f(!0),a(!1),r(e)),t&&(x.current.value=t)}),[]);var p=function(){var e=Object(h.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.current.value){e.next=8;break}return a(!0),e.next=4,g(x.current.value);case 4:c=e.sent,a(!1),f(!0),(null===c||void 0===c||null===(t=c.docs)||void 0===t?void 0:t.length)>0?(r(c.docs),B("books_list",c.docs),B("search_input",x.current.value)):r([]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=0===s.length&&(null===(e=x.current)||void 0===e?void 0:e.value)&&!n;return Object(_.jsxs)("section",{children:[n&&Object(_.jsx)(k,{}),Object(_.jsxs)("div",{className:O.container,children:[Object(_.jsxs)("div",{className:O.input_wrap,children:[Object(_.jsx)("input",{className:O.search_input,"data-hook":"search-input",type:"text",placeholder:"Search...",ref:x,onKeyDown:function(e){13===e.keyCode&&p()}}),Object(_.jsx)(w.a,{className:O.icon,icon:I.b,onClick:function(e){p()}})]}),v?Object(_.jsx)(y,{}):u&&Object(_.jsx)("div",{"data-hook":"all-books",className:O.all_books,children:Object(_.jsx)(R,{list:s})})]})]})},P=c(30),T=c(5),G=function(){var e=Object(o.useState)([]),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(o.useState)(""),i=Object(m.a)(a,2),l=i[0],s=i[1];Object(o.useEffect)((function(){var e=F("collection_list");e&&e.length>0&&n(e)}),[]);var r=function(e){e.preventDefault(),l&&(d(l),s(""),alert("Collection Added Successfully"))},d=function(e){var t=Object(P.a)(c);t=[].concat(Object(P.a)(t),[{id:c.length+1,name:e,books:[]}]),n(t),B("collection_list",t)};return Object(_.jsx)("section",{children:Object(_.jsxs)("div",{className:T.container,children:[Object(_.jsx)("form",{onSubmit:r,children:Object(_.jsxs)("div",{className:T.input_warp,children:[Object(_.jsx)("input",{type:"text","data-hook":"add-collection-input",placeholder:"Collection Name",value:l,onChange:function(e){s(e.currentTarget.value)},className:T.input}),Object(_.jsx)("button",{className:T.btn,type:"submit",children:Object(_.jsx)(w.a,{className:T.icon,"data-hook":"add-collection-icon",icon:I.a,onClick:function(e){r(e)}})})]})}),c.length>0?Object(_.jsx)("div",{className:T.collection_list,children:c.map((function(e,t){return Object(_.jsxs)("div",{className:T.collection_item,children:[Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:T.name_icon_warp,"data-id":e.id,children:[Object(_.jsx)("h2",{children:e.name}),Object(_.jsx)(w.a,{className:T.icon,icon:I.c,onClick:function(){!function(e){if(e){var t=c.filter((function(t){return t.id!==e}));n(t),B("collection_list",t),alert("Book Added Successfully")}}(e.id)}})]}),Object(_.jsx)("div",{className:T.books_container,children:Object(_.jsx)(o.Fragment,{children:e.books.length>0?e.books.map((function(t,o){return Object(_.jsxs)("div",{"data-id":t.key,className:T.book_item,children:[Object(_.jsx)(C.a,{src:v(t.cover_edition_key),alt:t.title,className:T.img,animation:"zoomIn",animationDuration:"1s"}),Object(_.jsx)("p",{className:T.book_title,children:t.title}),Object(_.jsx)(w.a,{className:T.trash_icon,icon:I.c,onClick:function(){!function(e,t){var o=D(e);if(o){var a=o.books.filter((function(e){return e.key!==t})),i=[Object(M.a)(Object(M.a)({},o),{},{books:a})],l=c.map((function(e){return i.find((function(t){return t.id===e.id}))||e}));n(l),B("collection_list",l)}}(e.id,t.key)}})]},t.key)})):Object(_.jsx)("p",{children:"No Books Yet On This Collection..."})})})]},t)}))}):Object(_.jsx)("p",{children:"No Collection Yet"})]})})};var U=function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(j,{}),Object(_.jsxs)(s.b,{children:[Object(_.jsx)(l.a,{path:"/",exact:!0,children:Object(_.jsx)(L,{"data-hook":"home-link"})}),Object(_.jsx)(l.a,{path:"/collection",exact:!0,children:Object(_.jsx)(G,{"data-hook":"collections-link"})})]})]})};i.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(l.a,{basename:"/ReactProject",children:Object(_.jsx)(U,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.d80bed74.chunk.js.map